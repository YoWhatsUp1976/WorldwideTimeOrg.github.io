<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worldwide Time Organization - Precision Timekeeping</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: #000;
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px 0;
            border-bottom: 3px solid #fff;
        }
        
        .logo {
            font-size: 2.5em;
            font-weight: bold;
            letter-spacing: 0.1em;
            margin-bottom: 10px;
        }
        
        .tagline {
            font-size: 0.9em;
            letter-spacing: 0.3em;
            opacity: 0.8;
            text-transform: uppercase;
        }
        
        .main-clock {
            background: #fff;
            color: #000;
            border-radius: 0;
            padding: 50px;
            margin-bottom: 30px;
            border: 5px solid #000;
            box-shadow: 10px 10px 0 rgba(255,255,255,0.1);
        }
        
        .time-display {
            font-size: 5em;
            text-align: center;
            font-weight: bold;
            letter-spacing: 0.05em;
            margin-bottom: 10px;
            font-family: 'Courier New', monospace;
        }
        
        .date-display {
            font-size: 1.5em;
            text-align: center;
            margin-bottom: 20px;
            font-weight: 600;
        }
        
        .timezone-info {
            text-align: center;
            font-size: 1.2em;
            font-weight: 500;
        }
        
        .controls {
            background: #fff;
            color: #000;
            border-radius: 0;
            padding: 30px;
            margin-bottom: 30px;
            border: 3px solid #000;
        }
        
        h2 {
            margin-bottom: 20px;
            font-size: 1.8em;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 0.05em;
        }
        
        select, input {
            width: 100%;
            padding: 12px;
            border: 2px solid #000;
            border-radius: 0;
            font-size: 1em;
            background: #fff;
            color: #000;
            font-family: 'Courier New', monospace;
        }
        
        select:focus, input:focus {
            outline: none;
            border: 3px solid #000;
        }
        
        button {
            background: #000;
            color: #fff;
            border: none;
            padding: 12px 30px;
            border-radius: 0;
            font-size: 1em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            margin: 5px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: 'Courier New', monospace;
        }
        
        button:hover {
            background: #fff;
            color: #000;
            border: 2px solid #000;
            transform: translateY(-2px);
            box-shadow: 4px 4px 0 rgba(255,255,255,0.5);
        }
        
        .calculator {
            background: #fff;
            color: #000;
            border-radius: 0;
            padding: 30px;
            border: 3px solid #000;
            margin-bottom: 30px;
        }
        
        .calc-result {
            background: #000;
            color: #fff;
            padding: 20px;
            border-radius: 0;
            margin-top: 20px;
            min-height: 60px;
            font-size: 1.1em;
            border: 2px solid #fff;
        }
        
        .world-clocks {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .world-clock-item {
            background: #fff;
            color: #000;
            border-radius: 0;
            padding: 25px;
            border: 3px solid #000;
            position: relative;
        }
        
        .world-clock-item h3 {
            margin-bottom: 15px;
            font-size: 1.2em;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        
        .world-clock-item .time {
            font-size: 2.2em;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            margin-bottom: 5px;
        }
        
        .world-clock-item .date {
            font-size: 0.9em;
            opacity: 0.7;
        }
        
        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            font-size: 0.8em;
            margin: 0;
        }
        
        .sync-status {
            text-align: center;
            padding: 10px;
            background: #fff;
            color: #000;
            border: 2px solid #000;
            margin-bottom: 20px;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 0.1em;
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">WORLDWIDE TIME ORGANIZATION</div>
            <div class="tagline">Precision Timekeeping • Est. 2025</div>
        </header>

        <div class="sync-status" id="syncStatus">Synchronizing with atomic time servers...</div>

        <div class="main-clock">
            <div class="time-display" id="mainTime">--:--:--.---</div>
            <div class="date-display" id="mainDate">Loading...</div>
            <div class="timezone-info" id="mainTimezone">UTC</div>
        </div>

        <div class="controls">
            <h2>Time Controls</h2>
            <div class="control-group">
                <label for="timezoneSelect">Select Timezone</label>
                <select id="timezoneSelect">
                    <option value="UTC">UTC - Coordinated Universal Time</option>
                    <option value="America/New_York">EST - Eastern Time</option>
                    <option value="America/Chicago">CST - Central Time</option>
                    <option value="America/Denver">MST - Mountain Time</option>
                    <option value="America/Los_Angeles">PST - Pacific Time</option>
                    <option value="Europe/London">GMT - London</option>
                    <option value="Europe/Paris">CET - Paris</option>
                    <option value="Europe/Moscow">MSK - Moscow</option>
                    <option value="Asia/Tokyo">JST - Tokyo</option>
                    <option value="Asia/Shanghai">CST - Shanghai</option>
                    <option value="Asia/Dubai">GST - Dubai</option>
                    <option value="Australia/Sydney">AEDT - Sydney</option>
                    <option value="Pacific/Auckland">NZDT - Auckland</option>
                </select>
            </div>
            <div class="control-group">
                <label for="timeFormatSelect">Time Format</label>
                <select id="timeFormatSelect">
                    <option value="24">24-Hour (Military Time)</option>
                    <option value="12">12-Hour (AM/PM)</option>
                </select>
            </div>
            <div class="button-group">
                <button onclick="syncTime()">Sync with Atomic Clock</button>
                <button onclick="addWorldClock()">Add World Clock</button>
            </div>
        </div>

        <div class="calculator">
            <h2>Time Calculator</h2>
            <div class="control-group">
                <label for="calcType">Calculation Type</label>
                <select id="calcType">
                    <option value="difference">Time Difference</option>
                    <option value="add">Add Time</option>
                    <option value="convert">Timezone Conversion</option>
                </select>
            </div>
            <div class="control-group">
                <label for="time1">Time/Timezone 1</label>
                <input type="datetime-local" id="time1">
            </div>
            <div class="control-group">
                <label for="time2">Time/Timezone 2</label>
                <input type="datetime-local" id="time2">
            </div>
            <button onclick="calculate()">Calculate</button>
            <div class="calc-result" id="calcResult">Results will appear here</div>
        </div>

        <div class="calculator">
            <h2>Leap Year Tracker</h2>
            <div id="leapYearInfo" style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; margin-bottom: 15px;">
                <div style="font-size: 1.3em; margin-bottom: 10px;"></div>
            </div>
            <div class="control-group">
                <label for="leapYearInput">Check Year</label>
                <input type="number" id="leapYearInput" placeholder="Enter year (e.g., 2024)" min="1" max="9999">
            </div>
            <button onclick="checkLeapYear()">Check Leap Year</button>
            <div class="calc-result" id="leapResult">Enter a year to check if it's a leap year</div>
        </div>

        <div class="calculator">
            <h2>Unix Timestamp Converter</h2>
            <div class="control-group">
                <label for="unixInput">Unix Timestamp (seconds)</label>
                <input type="number" id="unixInput" placeholder="e.g., 1730419200">
            </div>
            <button onclick="convertUnix()">Convert to Date</button>
            <button onclick="getCurrentUnix()">Get Current Timestamp</button>
            <div class="calc-result" id="unixResult">Unix timestamp: <span id="currentUnix">Loading...</span></div>
        </div>

        <div class="calculator">
            <h2>Day Counter</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px;">
                <div style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; text-align: center;">
                    <div style="font-size: 0.9em; margin-bottom: 5px;">Days This Year</div>
                    <div style="font-size: 2em; font-weight: bold;" id="daysThisYear">0</div>
                </div>
                <div style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; text-align: center;">
                    <div style="font-size: 0.9em; margin-bottom: 5px;">Days Remaining</div>
                    <div style="font-size: 2em; font-weight: bold;" id="daysRemaining">0</div>
                </div>
            </div>
            <div style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; margin-bottom: 15px;">
                <div style="font-size: 0.9em; margin-bottom: 5px;">Day of Year</div>
                <div style="font-size: 1.5em; font-weight: bold;" id="dayOfYear">0</div>
                <div style="margin-top: 10px; font-size: 0.9em;" id="weekNumber"></div>
            </div>
        </div>

        <div class="calculator">
            <h2>Timezone Offset Calculator</h2>
            <div class="control-group">
                <label for="tz1Select">Timezone 1</label>
                <select id="tz1Select">
                    <option value="UTC">UTC</option>
                    <option value="America/New_York">EST - Eastern Time</option>
                    <option value="America/Chicago">CST - Central Time</option>
                    <option value="America/Los_Angeles">PST - Pacific Time</option>
                    <option value="Europe/London">GMT - London</option>
                    <option value="Asia/Tokyo">JST - Tokyo</option>
                    <option value="Australia/Sydney">AEDT - Sydney</option>
                </select>
            </div>
            <div class="control-group">
                <label for="tz2Select">Timezone 2</label>
                <select id="tz2Select">
                    <option value="America/New_York">EST - Eastern Time</option>
                    <option value="UTC">UTC</option>
                    <option value="America/Chicago">CST - Central Time</option>
                    <option value="America/Los_Angeles">PST - Pacific Time</option>
                    <option value="Europe/London">GMT - London</option>
                    <option value="Asia/Tokyo">JST - Tokyo</option>
                    <option value="Australia/Sydney">AEDT - Sydney</option>
                </select>
            </div>
            <button onclick="calculateTimezoneOffset()">Calculate Offset</button>
            <div class="calc-result" id="tzOffsetResult">Select timezones to compare</div>
        </div>

        <div class="calculator">
            <h2>Atomic Clock Metrics</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; text-align: center;">
                    <div style="font-size: 0.8em; margin-bottom: 5px;">MILLISECONDS TODAY</div>
                    <div style="font-size: 1.3em; font-weight: bold;" id="msToday">0</div>
                </div>
                <div style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; text-align: center;">
                    <div style="font-size: 0.8em; margin-bottom: 5px;">SECONDS THIS YEAR</div>
                    <div style="font-size: 1.3em; font-weight: bold;" id="secondsYear">0</div>
                </div>
                <div style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; text-align: center;">
                    <div style="font-size: 0.8em; margin-bottom: 5px;">HEARTBEATS (AVG 70 BPM)</div>
                    <div style="font-size: 1.3em; font-weight: bold;" id="heartbeats">0</div>
                </div>
            </div>
        </div>

        <div class="calculator">
            <h2>Time Unit Counters (Since Start of Year)</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; text-align: center;">
                    <div style="font-size: 0.8em; margin-bottom: 5px;">HOURS ELAPSED</div>
                    <div style="font-size: 1.3em; font-weight: bold;" id="hoursYear">0</div>
                </div>
                <div style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; text-align: center;">
                    <div style="font-size: 0.8em; margin-bottom: 5px;">MINUTES ELAPSED</div>
                    <div style="font-size: 1.3em; font-weight: bold;" id="minutesYear">0</div>
                </div>
                <div style="background: #000; color: #fff; padding: 20px; border: 2px solid #fff; text-align: center;">
                    <div style="font-size: 0.8em; margin-bottom: 5px;">LEAP SECONDS (HISTORICAL)</div>
                    <div style="font-size: 1.3em; font-weight: bold;" id="leapSeconds">27</div>
                </div>
            </div>
            <div style="background: #000; color: #fff; padding: 15px; border: 2px solid #fff; margin-top: 15px; font-size: 0.85em; opacity: 0.8; text-align: center;">
                Last leap second: December 31, 2016 (UTC) • Next leap second: TBD by IERS
            </div>
        </div>

        <div class="world-clocks" id="worldClocks"></div>

        <footer style="text-align: center; margin-top: 50px; padding: 30px 0; border-top: 3px solid #fff;">
            <div style="font-size: 0.9em; letter-spacing: 0.2em; text-transform: uppercase; opacity: 0.8;">
                Time Organization Director: <strong>YWU</strong>
            </div>
            <div style="font-size: 0.8em; letter-spacing: 0.15em; margin-top: 10px; opacity: 0.6;">
                Worldwide Time Organization © 2025
            </div>
        </footer>
    </div>

    <script>
        let mainTimezone = 'UTC';
        let timeOffset = 0;
        let worldClocks = [];
        let use24Hour = true;
        let stopwatchRunning = false;
        let stopwatchStart = 0;
        let stopwatchElapsed = 0;
        let stopwatchInterval = null;
        let lapCount = 0;

        async function syncTime() {
            const status = document.getElementById('syncStatus');
            status.textContent = 'Syncing with atomic time servers...';
            
            try {
                // Try WorldTimeAPI first
                const response = await fetch('https://worldtimeapi.org/api/timezone/' + mainTimezone);
                
                if (!response.ok) {
                    throw new Error('WorldTimeAPI failed');
                }
                
                const data = await response.json();
                const serverTime = new Date(data.datetime);
                const localTime = new Date();
                timeOffset = serverTime - localTime;
                
                status.textContent = '✓ Synchronized with atomic clock - Offset: ' + Math.abs(timeOffset) + 'ms';
                setTimeout(() => {
                    status.textContent = 'Time synchronized • Precision: ±50ms';
                }, 2000);
            } catch (error) {
                // Fallback to timeapi.io
                try {
                    const response = await fetch('https://timeapi.io/api/Time/current/zone?timeZone=' + mainTimezone);
                    const data = await response.json();
                    const serverTime = new Date(data.dateTime);
                    const localTime = new Date();
                    timeOffset = serverTime - localTime;
                    
                    status.textContent = '✓ Synchronized with atomic clock - Offset: ' + Math.abs(timeOffset) + 'ms';
                    setTimeout(() => {
                        status.textContent = 'Time synchronized • Precision: ±50ms';
                    }, 2000);
                } catch (error2) {
                    console.error('Sync error:', error2);
                    status.textContent = '⚠ Using local system time - Network sync unavailable';
                    timeOffset = 0;
                }
            }
        }

        function updateMainClock() {
            const now = new Date(Date.now() + timeOffset);
            
            const time = now.toLocaleTimeString('en-US', {
                timeZone: mainTimezone,
                hour12: !use24Hour,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            
            const ms = now.getMilliseconds().toString().padStart(3, '0');
            
            const date = now.toLocaleDateString('en-US', {
                timeZone: mainTimezone,
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            document.getElementById('mainTime').textContent = time + '.' + ms;
            document.getElementById('mainDate').textContent = date;
            
            // Update atomic metrics
            updateAtomicMetrics(now);
        }

        function updateAtomicMetrics(now) {
            // Milliseconds today
            const startOfDay = new Date(now);
            startOfDay.setHours(0, 0, 0, 0);
            const msToday = now - startOfDay;
            document.getElementById('msToday').textContent = msToday.toLocaleString();
            
            // Seconds this year
            const startOfYear = new Date(now.getFullYear(), 0, 1);
            const secondsYear = Math.floor((now - startOfYear) / 1000);
            document.getElementById('secondsYear').textContent = secondsYear.toLocaleString();
            
            // Heartbeats (70 bpm from start of year)
            const heartbeats = Math.floor(secondsYear * 70 / 60);
            document.getElementById('heartbeats').textContent = heartbeats.toLocaleString();
            
            // Hours this year
            const hoursYear = Math.floor((now - startOfYear) / (1000 * 60 * 60));
            document.getElementById('hoursYear').textContent = hoursYear.toLocaleString();
            
            // Minutes this year
            const minutesYear = Math.floor((now - startOfYear) / (1000 * 60));
            document.getElementById('minutesYear').textContent = minutesYear.toLocaleString();
            
            // Current Unix timestamp
            document.getElementById('currentUnix').textContent = Math.floor(now.getTime() / 1000);
        }

        function updateDayCounter() {
            const now = new Date(Date.now() + timeOffset);
            const startOfYear = new Date(now.getFullYear(), 0, 1);
            const endOfYear = new Date(now.getFullYear() + 1, 0, 1);
            
            const dayOfYear = Math.floor((now - startOfYear) / (1000 * 60 * 60 * 24)) + 1;
            const totalDays = Math.floor((endOfYear - startOfYear) / (1000 * 60 * 60 * 24));
            const daysRemaining = totalDays - dayOfYear;
            
            document.getElementById('dayOfYear').textContent = `Day ${dayOfYear} of ${totalDays}`;
            document.getElementById('daysThisYear').textContent = dayOfYear;
            document.getElementById('daysRemaining').textContent = daysRemaining;
            
            // Week number
            const onejan = new Date(now.getFullYear(), 0, 1);
            const weekNum = Math.ceil((((now - onejan) / 86400000) + onejan.getDay() + 1) / 7);
            document.getElementById('weekNumber').textContent = `Week ${weekNum} of 52`;
        }

        function updateLeapYearInfo() {
            const now = new Date(Date.now() + timeOffset);
            const year = now.getFullYear();
            const isLeap = isLeapYear(year);
            const nextLeap = findNextLeapYear(year);
            
            const info = document.getElementById('leapYearInfo').querySelector('div');
            info.innerHTML = `
                ${year} ${isLeap ? 'IS' : 'IS NOT'} A LEAP YEAR<br>
                <span style="font-size: 0.8em; opacity: 0.8;">Next leap year: ${nextLeap} (${nextLeap - year} years away)</span>
            `;
        }

        function isLeapYear(year) {
            return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0);
        }

        function findNextLeapYear(year) {
            let next = year + 1;
            while (!isLeapYear(next)) {
                next++;
            }
            return next;
        }

        function checkLeapYear() {
            const input = document.getElementById('leapYearInput').value;
            const year = parseInt(input);
            const result = document.getElementById('leapResult');
            
            if (!year || year < 1 || year > 9999) {
                result.textContent = 'Please enter a valid year (1-9999)';
                return;
            }
            
            const isLeap = isLeapYear(year);
            const prevLeap = year - 1;
            const nextLeap = year + 1;
            
            let prev = prevLeap;
            while (!isLeapYear(prev) && prev > year - 10) prev--;
            
            let next = nextLeap;
            while (!isLeapYear(next) && next < year + 10) next++;
            
            result.innerHTML = `
                <strong>${year}</strong> ${isLeap ? 'IS A LEAP YEAR' : 'IS NOT A LEAP YEAR'}<br><br>
                ${isLeap ? `This year has 366 days (extra day: February 29)` : `This year has 365 days`}<br>
                Previous leap year: ${prev}<br>
                Next leap year: ${next}
            `;
        }

        function convertUnix() {
            const input = document.getElementById('unixInput').value;
            const unix = parseInt(input);
            const result = document.getElementById('unixResult');
            
            if (!unix) {
                result.textContent = 'Please enter a valid Unix timestamp';
                return;
            }
            
            const date = new Date(unix * 1000);
            result.innerHTML = `
                <strong>Unix: ${unix}</strong><br>
                Date: ${date.toLocaleString('en-US', { dateStyle: 'full', timeStyle: 'long' })}<br>
                ISO: ${date.toISOString()}
            `;
        }

        function getCurrentUnix() {
            const now = Math.floor((Date.now() + timeOffset) / 1000);
            document.getElementById('unixInput').value = now;
            convertUnix();
        }

        function calculateTimezoneOffset() {
            const tz1 = document.getElementById('tz1Select').value;
            const tz2 = document.getElementById('tz2Select').value;
            const result = document.getElementById('tzOffsetResult');
            
            const now = new Date(Date.now() + timeOffset);
            
            const time1 = now.toLocaleString('en-US', { timeZone: tz1, hour12: false });
            const time2 = now.toLocaleString('en-US', { timeZone: tz2, hour12: false });
            
            const date1 = new Date(time1);
            const date2 = new Date(time2);
            
            const diffMs = date1 - date2;
            const diffHours = Math.floor(Math.abs(diffMs) / (1000 * 60 * 60));
            const diffMins = Math.floor((Math.abs(diffMs) % (1000 * 60 * 60)) / (1000 * 60));
            
            const ahead = diffMs > 0 ? tz1 : tz2;
            const behind = diffMs > 0 ? tz2 : tz1;
            
            result.innerHTML = `
                <strong>Time Difference: ${diffHours}h ${diffMins}m</strong><br><br>
                ${ahead} is ${Math.abs(diffHours)}h ${diffMins}m ahead of ${behind}<br>
                When it's ${now.toLocaleTimeString('en-US', { timeZone: tz1, hour12: !use24Hour })} in ${tz1},<br>
                it's ${now.toLocaleTimeString('en-US', { timeZone: tz2, hour12: !use24Hour })} in ${tz2}
            `;
        }

        function startStopwatch() {
            if (!stopwatchRunning) {
                stopwatchStart = Date.now() - stopwatchElapsed;
                stopwatchRunning = true;
                stopwatchInterval = setInterval(updateStopwatch, 10);
            }
        }

        function pauseStopwatch() {
            if (stopwatchRunning) {
                stopwatchRunning = false;
                clearInterval(stopwatchInterval);
                stopwatchElapsed = Date.now() - stopwatchStart;
            }
